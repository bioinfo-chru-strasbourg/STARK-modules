##########################################################################
# Config Yaml Version:     1
# Description:             Yaml file to run fusions snakefile module
##########################################################################

# DEV version 1 : 23/11/2022
# Authoring : Thomas LAVAUX

##########################################################################
# Add here variables that will extend default configuration yaml file.
# If a variable was already defined in the default configuration yaml file, it will be replace.
# launch snakemake -s snakefile_fusions -c(numberofthreads) --config run=absolutepathoftherundirectory var1=0.05 var2=12
# separate multiple variable with a space
################## Directories and variables ##################
# Name of the module = {serviceName} from listener.py/launcher.py
serviceName: "Fusions"

# Default repository/depository path from listener.py/launcher.py
repository: "/STARK/output/repository"
depository: "/STARK/output/depository"
# Output directory if not repository
OUTPUT_DIR: ""
# Copy to depot directory (archive)
DEPOT_COPY: False

# Group and App default name
GROUP_NAME: "UNKNOWN"
APP_NAME: "UNKNOWN"

# Default path to the input datas == {run} from listener.py/launcher.py
run: ""
# Bed file
BED_FILE: ""
# Genes file
GENES_FILE: ""
# Transcripts file
TRANSCRIPTS_FILE: ""
# List genes
LIST_GENES: ""

# Files to index into the dictionary depending on extension (endwith)
EXT_INDEX_LIST: [".transcripts",".genes.bed",".design.bed",".list.genes",".tag",".R1.fastq.gz",".R2.fastq.gz"]
# List of files extension to process
PROCESS_FILE: [".R1.fastq.gz",".R2.fastq.gz"]
# How to copy input files (bam, bai, cram) : ls or leave empty (it will rsync files or index for bai from bam)
PROCESS_CMD: 'ls'
# Only analyse bam/cram files named *.validation.bam or *.validation.cram
VALIDATION_ONLY: False
# Insert an aligner name to the bam/cram file name (from sample.bam to sample.aligner_name.bam)
ALIGNER_NAME:

# Samples list exclusion (not to be analysed) ; exclude if startwith, case insensitive
EXCLUDE_SAMPLE: ['POOL_', 'BlcADN', 'blanc', 'BlcPCR', 'blcPCR', 'Z_NTC', 'NTC']
# Sample filter
FILTER_SAMPLE: []

# Extension files to copy after pipeline success
# using brace extension, remove space between extensions
INCLUDE_RSYNC: "{'*.tsv','*/'}"
# Extensions files to copy after pipeline failure
INCLUDE_LOG_RSYNC: "{'*.log','*.err','*Failed.txt'}"

##### Search parameters of input for the search function #####
RECURSIVE_SEARCH: False
SEARCH_ARGUMENT: "/*/STARK/*"

## DEBUG ##
DEBUG_MODE: True

# Path of the template (template is template.html)
TEMPLATE_DIR: "/app/template"
# For result html report, list of extensions to report
RESULT_EXT_LIST: ['.tsv']


############## Tools specific parameters ##############
# List of tools used to generate fusion analysis ['arriba', 'starfusion'] ; only arriba work for the moment
FUSION_TOOL: ['arriba']
### TOOLS PATH ###
# Default path to a FASTA file with .fasta reference genome (hg19/hg38 for ex)
REFGENOMEFA_PATH: "/STARK/databases/genomes/current/hg19.fa"
# GTF file (Gencode)
REFGTFGENCODE_PATH: "/STARK/databases/gtf/current/gencode.v19.annotation.gtf_withproteinids"
# Arriba specifics databases
ARRIBA_SCRIPTS: "/opt/conda/share/arriba/scripts"
REFPROTDOMAIN_PATH: "/opt/conda/share/arriba/database/protein_domains_hg19_hs37d5_GRCh37_v2.4.0.gff3"
REFCYTOBAND_PATH: "/opt/conda/share/arriba/database/cytobands_hg19_hs37d5_GRCh37_v2.4.0.tsv"
BLACKLIST_PATH: "/opt/conda/share/arriba/database/blacklist_hg19_hs37d5_GRCh37_v2.4.0.tsv.gz"
REFFUSION_PATH: "/opt/conda/share/arriba/database/known_fusions_hg19_hs37d5_GRCh37_v2.4.0.tsv.gz"

########## STAR ##########
# STAR will output a junction file
JUNCTION_FILE: "Junctions"
CTAT_LIB_GENCODE: "/STARK/databases/CTAT_LIB/current/hg19"